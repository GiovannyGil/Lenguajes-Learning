<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Productos
    </ion-title>
    <!-- boton/icono para agregar -> ir a la vista/componente para el POST -->
    <ion-icon (click)="navigateToAddProduct()" color="success" slot="end" name="add-circle" size="large"></ion-icon>

  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">


  <ion-list [inset]="true">
    <ion-item>
      <ion-label class="fonttexts"><h2><b>Nombre</b></h2></ion-label>
      <ion-label class="fonttexts"><h2><b>Stock</b></h2></ion-label>
      <ion-icon color="primary" slot="end" name="add-circle" size="large"></ion-icon>
      <ion-icon color="warning" slot="end" name="create" size="large"></ion-icon>
      <ion-icon color="danger" slot="end" name="close-circle" size="large"></ion-icon>
    </ion-item>

    <ion-item *ngFor="let item of listaProductos">
      <ion-icon (click)="setOpen(true, item.id)" color="primary" slot="end" name="add-circle-outline" size="large"></ion-icon>
      <ion-icon (click)="navigateToUpdateProduct(item.id)" color="warning" slot="end" name="create-outline" size="large"></ion-icon>
      <ion-icon (click)="confirmDelete(item.id)" color="danger" slot="end" name="close-circle-outline" size="large"></ion-icon>

      <ion-label>{{ item.nombre }}</ion-label>
      <ion-label>{{ item.stock }}</ion-label>
      
      <!-- MODAL PARA VER -> DETALLES -->
      <ion-modal [isOpen]="isModalOpen">
        <ng-template>
          <ion-header>
            <ion-toolbar>
              <ion-title strong="true">Producto</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="setOpen(false)">Salir</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding">
            <ion-list lines="inset" >
              <ion-item><ion-label >ID: {{ producto.id }}</ion-label></ion-item>
              <ion-item><ion-label >Nombre: {{ producto.nombre }}</ion-label></ion-item>
              <ion-item><ion-label >Descripcion: {{ producto.descripcion }}</ion-label></ion-item>
              <ion-item><ion-label >Precio: {{ producto.precio }}</ion-label></ion-item>
              <ion-item><ion-label >Stock: {{ producto.stock }}</ion-label></ion-item>
              <ion-item>
                <ion-button (click)="confirmDelete(item.id)" shape="round" strong="true" slot="start" color="danger" >Borrar</ion-button>
                <ion-button (click)="navigateToUpdateProduct(item.id)" slot="end"  shape="round" color="warning" strong="true" >Editar</ion-button>
              </ion-item>
            </ion-list>
          </ion-content>
        </ng-template>
      </ion-modal>
    </ion-item>
  </ion-list>

</ion-content>
